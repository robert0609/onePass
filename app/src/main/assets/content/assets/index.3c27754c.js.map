{"version":3,"file":"index.3c27754c.js","sources":["../../src/pages/login/index.tsx"],"sourcesContent":["import { defineComponent } from 'vue';\nimport logoImage from '@/assets/img/logo.png';\nimport { loginController } from '@/core/business/login';\nimport { ElMessage } from 'element-plus';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default defineComponent({\n  name: 'Login',\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const { token, handleLogin } = loginController();\n\n    function onClickLogin() {\n      handleLogin()\n        .then(() => {\n          // 登录成功之后\n          if (route.query.src_url) {\n            router.replace(decodeURIComponent(route.query.src_url as string));\n          } else {\n            router.replace('/home');\n          }\n        })\n        .catch((e) => {\n          ElMessage.error(e.message);\n        });\n    }\n\n    return () => (\n      <div class=\"flex justify-center items-center h-screen\">\n        <div class=\"p-10 rounded-md shadow-md border-2\">\n          <p class=\"flex gap-2 justify-center items-center mb-2\">\n            <ElImage src={logoImage} class=\"w-9 h-9\"></ElImage>\n            <pan class=\"font-mono text-4xl italic font-bold text-center\">\n              OnePass\n            </pan>\n          </p>\n          <p class=\"flex gap-2\">\n            <ElInput\n              placeholder=\"请输入解锁码\"\n              modelValue={token.value}\n              {...{\n                ['onUpdate:modelValue']: (val: string) => (token.value = val)\n              }}\n              type=\"password\"\n            ></ElInput>\n            <ElButton\n              icon=\"ElIconUnlock\"\n              circle\n              onClick={onClickLogin}\n            ></ElButton>\n          </p>\n        </div>\n      </div>\n    );\n  }\n});\n"],"names":["setup","route","router","replace"],"mappings":"6KAQEA,oBAEQC,MACA,mEAMA,iBAGEC,EAAOC,QAAQ,kHAUR,6DACA,gIAEI,+FAIJ,yLAUA"}