{"version":3,"file":"index.7ecd3942.js","sources":["../../src/components/table/index.tsx"],"sourcesContent":["import { UIError } from '@/core/exception';\nimport { FunctionalComponent } from 'vue';\nimport indexStyle from './index.module.scss';\n\nconst OneTable: FunctionalComponent<\n  {\n    data: any[];\n    pageSize?: number;\n    currentPageIndex?: number;\n    totalCount?: number;\n    showPagination?: boolean;\n  },\n  ['pageIndexChanged', 'update:currentPageIndex']\n> = function (props, { attrs, slots, emit }) {\n  if (props.showPagination === undefined) {\n    props.showPagination = true;\n  }\n  if (props.showPagination) {\n    if (\n      props.pageSize === undefined ||\n      props.currentPageIndex === undefined ||\n      props.totalCount === undefined\n    ) {\n      throw UIError.createUIError(\n        '表格组件显示分页器的时候，必须要传输pageSize、currentPageIndex、totalCount'\n      );\n    }\n  }\n  function handlePageIndexChanged(newPageIndex: number) {\n    emit('pageIndexChanged', newPageIndex);\n  }\n\n  return (\n    <>\n      <ElTable\n        {...Object.assign(\n          {\n            class: indexStyle['el-table'],\n            stripe: true,\n            size: 'small',\n            ['empty-text']: '暂无数据',\n            ['header-row-class-name']: indexStyle.table__header,\n            ['header-cell-class-name']: indexStyle.table__header__cell\n          },\n          attrs\n        )}\n      >\n        {slots.default ? slots.default() : undefined}\n      </ElTable>\n      {props.showPagination ? (\n        <p>\n          <ElPagination\n            class=\"mt-4 flex justify-center\"\n            layout=\"prev, pager, next\"\n            background\n            pageSize={props.pageSize}\n            total={props.totalCount}\n            {...{\n              currentPage: props.currentPageIndex,\n              ['onUpdate:currentPage']: (val: any) => {\n                emit('update:currentPageIndex', val - 1);\n              },\n              onCurrentChange: handlePageIndexChanged,\n              hideOnSinglePage: true\n            }}\n          ></ElPagination>\n        </p>\n      ) : undefined}\n    </>\n  );\n};\nOneTable.displayName = 'OneTable';\nOneTable.emits = ['pageIndexChanged', 'update:currentPageIndex'];\nexport default OneTable;\n"],"names":["OneTable","props","attrs","slots","emit","showPagination","undefined","pageSize","currentPageIndex","totalCount","UIError","createUIError","newPageIndex","Object","assign","class","indexStyle","stripe","size","table__header","table__header__cell","default","currentPage","val","onCurrentChange","handlePageIndexChanged","hideOnSinglePage","displayName","emits"],"mappings":"2RAIA,KAAMA,GASF,SAAUC,EAAO,CAAEC,QAAOC,QAAOC,QAAQ,IACvCH,EAAMI,iBAAmBC,QAC3BL,GAAMI,eAAiB,IAErBJ,EAAMI,gBAENJ,GAAMM,WAAaD,QACnBL,EAAMO,mBAAqBF,QAC3BL,EAAMQ,aAAeH,aAEfI,GAAQC,cACZ,yKAI0BC,EAAsB,CACpDR,EAAK,mBAAoBQ,mCAMjBC,OAAOC,OACT,CACEC,MAAOC,EAAW,YAClBC,OAAQ,GACRC,KAAM,SACL,cAAe,4BACf,yBAA0BF,EAAWG,eACrC,0BAA2BH,EAAWI,qBAEzClB,iBAGDC,EAAMkB,QAAUlB,EAAMkB,UAAYf,UAEpCL,EAAMI,wDAGK,kCACC,2CAEGJ,EAAMM,eACTN,EAAMQ,aAEXa,YAAarB,EAAMO,kBAClB,wBAA0Be,GAAa,CACtCnB,EAAK,0BAA2BmB,EAAM,IAExCC,gBAAiBC,EACjBC,iBAAkB,aAItBpB,UAIVN,EAAS2B,YAAc,WACvB3B,EAAS4B,MAAQ,CAAC,mBAAoB,2BACtC,MAAe5B"}