import{L as h}from"./index.20457248.js";import{O as j}from"./index.7ecd3942.js";import{s as k,S}from"./index.8f988f7c.js";import{d as T,u as F,V,f as o,W as I,i as w,G as z,F as A,c as e,X as d,Y as a,Z as c,a as f}from"./vendor.3eeb42f9.js";import"./logo.90febaaa.js";import"./index.c1784500.js";var R=T({name:"Home",setup(){const p=F(),m=V();let n;const t=o(!1),{keyword:i,siteList:v,pageSize:C,currentPageIndex:E,totalCount:g,fetchSiteList:b}=k(),u=o(0),s=o("");I(()=>{i.value=m.query.keyword,!w(i.value)&&r()});function r(){n=z.service({target:"#site-table"}),b().catch(l=>{A.error(l.message)}).finally(()=>{n&&n.close()})}function L(l){p.push({name:"accountList",query:{site_id:l.id}})}function y(l){u.value=l.id,s.value=l.level,t.value=!0}function x(){t.value=!1,r()}return()=>e(c,null,[e(h,null,{default:()=>[e(j,d({data:v.value,pageSize:C.value,currentPageIndex:E.value,totalCount:g.value},{id:"site-table",height:"750px"}),{default:()=>[e(a("ElTableColumn"),{prop:"id",label:"\u5E94\u7528\u7F16\u53F7"},null),e(a("ElTableColumn"),{prop:"name",label:"\u5E94\u7528\u540D\u79F0"},null),e(a("ElTableColumn"),{prop:"url",label:"\u5E94\u7528\u5730\u5740"},null),e(a("ElTableColumn"),{label:"\u64CD\u4F5C"},{default:({row:l})=>e(c,null,[e(a("ElLink"),{type:"primary",href:"javascript:void(0);",onClick:()=>y(l)},{default:()=>[f("\u7F16\u8F91")]}),e(a("ElDivider"),{direction:"vertical"},null),e(a("ElLink"),{type:"primary",href:"javascript:void(0);",onClick:()=>L(l)},{default:()=>[f("\u5E10\u53F7\u5217\u8868")]})])})]})]}),e(a("ElDrawer"),d({title:"\u5E94\u7528\u7F16\u8F91",size:"30%"},{modelValue:t.value,["onUpdate:modelValue"]:l=>t.value=l}),{default:()=>[t.value?e(S,{level:s.value,id:u.value,onConfirm:x,onCancel:()=>t.value=!1},null):void 0]})])}});export{R as default};
//# sourceMappingURL=index.9848ecf6.js.map
