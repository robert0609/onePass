webpackJsonp([6],{361:function(t,e,n){"use strict";function a(t){n(412)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(390),s=n(414),r=n(226),o=a,u=r(i.a,s.a,!1,o,"data-v-2e974098",null);e.default=u.exports},365:function(t,e,n){"use strict";function a(t){return t}e.a={apiUrl:a}},366:function(t,e,n){"use strict";var a=n(101),i=(n.n(a),n(365)),s=["1","2","3"];e.a={name:"layout",data:function(){return{levels:s,backupUrl:"/backup"}},mounted:function(){this.init(this.$route.query)},methods:{init:function(t){var e=this;a.request.getPromise(i.a.apiUrl("/login")).then(function(){e.$emit("pageload",t)}).catch(function(t){1===t.errorCode?e.$router.load(a.browser.location.addParameter({source:location.href},"/unlock"),{replace:!0}):e.$vToast.show({message:t.message})})}}}},367:function(t,e,n){t.exports=n.p+"static/img/logo.572c3e1.png"},368:function(t,e,n){"use strict";function a(t){n(369),n(371)}var i=n(366),s=n(373),r=n(226),o=a,u=r(i.a,s.a,!1,o,"data-v-1b75f698",null);e.a=u.exports},369:function(t,e,n){var a=n(370);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(356)("605eeb77",a,!0,{})},370:function(t,e,n){e=t.exports=n(355)(!1),e.push([t.i,"\nul{\n  padding: 0;\n}\nul>li{\n  display: block;\n}\n",""])},371:function(t,e,n){var a=n(372);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(356)("dc2f3170",a,!0,{})},372:function(t,e,n){e=t.exports=n(355)(!1),e.push([t.i,"\n.page[data-v-1b75f698]{\n  width: 1180px;\n  margin: 0 auto;\n}\nheader .logo[data-v-1b75f698]{\n  width: 50px;\n  height: 50px;\n  float: left;\n}\nheader .title[data-v-1b75f698]{\n  margin-left: 100px;\n  padding-top: 6px;\n}\n.menu[data-v-1b75f698]{\n  float: left;\n}\n.menu>ul[data-v-1b75f698]{\n  margin: 0;\n}\n.menu>ul>li[data-v-1b75f698]{\n  margin-bottom: 5px;\n}\n.main[data-v-1b75f698]{\n  margin-left: 100px;\n  position: relative;\n}\nfooter[data-v-1b75f698]{\n  position: absolute;\n  width: 1180px;\n  bottom: 0;\n  text-align: center;\n}\n",""])},373:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[t._m(0),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"menu"},[n("ul",[n("li",[n("router-link",{attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t._l(t.levels,function(e){return n("li",{key:e},[n("router-link",{attrs:{to:{name:"list",query:{level:e}}}},[t._v("Level-"+t._s(e))])],1)}),t._v(" "),n("li",[n("a",{attrs:{href:t.backupUrl}},[t._v("Backup")])]),t._v(" "),n("li",[n("router-link",{attrs:{to:{name:"restore"}}},[t._v("Restore")])],1)],2)]),t._v(" "),n("div",{staticClass:"main"},[t._t("default")],2)]),t._v(" "),n("footer")])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("img",{staticClass:"logo",attrs:{src:n(367)}}),t._v(" "),a("h1",{staticClass:"title"},[t._v("One Password")])])}],s={render:a,staticRenderFns:i};e.a=s},390:function(t,e,n){"use strict";function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(i,s){try{var r=e[i](s),o=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}return a("next")})}}function i(t){for(var e=[],n=u.length,a=0;a<t;++a){var i=Math.floor(Math.random()*n);e.push(u[i])}return e.join("")}var s=n(101),r=(n.n(s),n(365)),o=n(368),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#".split("");e.a={name:"editSite",data:function(){return{id:0,siteId:0,username:"",password:""}},components:{oLayout:o.a},methods:{handleLoad:function(){var t=this;this.$route.query.id?(this.id=Number(this.$route.query.id),s.request.getPromise(r.a.apiUrl("/webapi/account/fetch"),{id:this.id}).then(function(e){if(0===e.length)t.$vToast.show({message:"there is not any account that id is "+t.id+"!"});else{var n=e[0];t.siteId=n.SiteId,t.username=n.UserName,t.password=n.Password}}).catch(function(e){t.$vToast.show({message:e.message})})):this.$route.query.siteid?this.siteId=Number(this.$route.query.siteid):this.$vToast.show({message:"siteId can not be zero!"})},handleGenerate:function(t){this.password=i(10)},handleSubmit:function(t){var e=this;this.checkInput().catch(function(t){return Promise.reject()}).then(function(){return new Promise(function(t,n){0===e.siteId?n(new Error("siteId can not be zero!")):t()})}).then(function(){return s.request.postPromise(r.a.apiUrl("/webapi/account/save"),{account:JSON.stringify({Id:e.id,SiteId:e.siteId,UserName:encodeURIComponent(e.username),Password:e.password})})}).then(function(t){e.$router.back()}).catch(function(t){t&&e.$vToast.show({message:t.message})})},checkInput:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.inputUsername.getValidResult();case 2:return e.next=4,t.$refs.inputPassword.getValidResult();case 4:case"end":return e.stop()}},e,t)}))()}}}},412:function(t,e,n){var a=n(413);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(356)("a309c7a4",a,!0,{})},413:function(t,e,n){e=t.exports=n(355)(!1),e.push([t.i,"\nul>li[data-v-2e974098]{\n  position: relative;\n  height: 60px;\n}\nul>li>.title[data-v-2e974098]{\n  position: absolute;\n  width: 120px;\n  height: 100%;\n  text-align: center;\n  line-height: 36px;\n}\nul>li>.input[data-v-2e974098]{\n  position: absolute;\n  top: 0;\n  left: 130px;\n  width: 500px;\n}\nul>li>.generate_button[data-v-2e974098]{\n  position: absolute;\n  top: 0;\n  left: 630px;\n  margin-left: 10px;\n  width: 128px;\n}\n.button[data-v-2e974098]{\n  float: left;\n  margin-left: 10px;\n  width: 128px;\n}\n",""])},414:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("o-layout",{on:{pageload:t.handleLoad}},[n("ul",[n("li",[n("div",{staticClass:"title"},[t._v("username")]),t._v(" "),n("v-input",{ref:"inputUsername",staticClass:"input",attrs:{name:"username",rule:"required|max:50",placeholder:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),n("li",[n("div",{staticClass:"title"},[t._v("password")]),t._v(" "),n("v-input",{ref:"inputPassword",staticClass:"input",attrs:{name:"password",rule:"required",placeholder:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("v-button",{staticClass:"generate_button",on:{click:t.handleGenerate}},[t._v("generate")])],1)]),t._v(" "),n("div",[n("v-button",{staticClass:"button",on:{click:t.handleSubmit}},[t._v("submit")])],1)])},i=[],s={render:a,staticRenderFns:i};e.a=s}});
//# sourceMappingURL=6.6c32bb3.js.map